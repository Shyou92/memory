(this.webpackJsonpmemory=this.webpackJsonpmemory||[]).push([[0],{130:function(e,r,t){},431:function(e,r,t){"use strict";t.r(r);var n=t(1),c=t.n(n),a=t(12),i=t.n(a),s=(t(130),t(123)),o=t(8),d="CARD/FLIP_CARD_TO_OPENED",u="CARD/FLIP_CARD_TO_CLOSED",l="CARD/UPDATED_PLAYFIELD",p="SCORE/INCREASE_SCORE_POINT",b="SCORE/DECREASE_SCORE_POINT",O="TIMER/TIMER_IS_ON",j="TIMER/TIMER_IS_OFF",f="TIMER/START_TIMER",h="STANDINGS/TABLE_IS_OPENED",m="STANDINGS/TABLE_IS_CLOSED",y="STARTSCREEN/STARTSCREEN_IS_OPENED",v="STARTSCREEN/STARTSCREEN_IS_CLOSED",_="PLAYER/ADD_PLAYER_NAME",A="STANDINGS/INCREASE_PLAYER_NUMBER",E=t(33),R=t(126),S=t(3);var g=[{id:1,color:"red",isVisible:!1},{id:2,color:"red",isVisible:!1}];(function(e){for(var r=e.length-1;r>0;r--){var t=Math.floor(Math.random()*(r+1)),n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]}})(g);var N=g,T={cardsArray:N};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l:return Object(S.a)(Object(S.a)({},e),{},{cardsArray:e.cardsArray.filter((function(e){return!0!==e.isVisible}))});default:return e}},C={cardsArray:N},I=[];var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case d:return Object(S.a)(Object(S.a)({},e),{},{cardsArray:e.cardsArray.map((function(t){if(t.id===r.payload.id){var n={id:r.payload.id,color:t.color,isVisible:!0};if(t.id===n.id&&(t.isVisible=!0,I.push(t)),setTimeout((function(){return H(!1,n.id)}),5e3),2===I.length){if(I[0].color===I[1].color){var c=e.cardsArray.filter((function(e){if(!0!==e.isVisible)return e}));return W.dispatch(K(c)),e.cardsArray=c,I.length=0,W.dispatch(Q(e)),e.cardsArray}setTimeout((function(){return e.cardsArray.map((function(e){!0===e.isVisible&&(H(!1,e.id),e.isVisible=!1)}))}),2e3),I.length=0,W.dispatch(Z(e))}}return t}))});case u:return Object(S.a)(Object(S.a)({},e),{},{cardsArray:e.cardsArray.map((function(e){if(!1===r.payload.isVisible){var t={id:r.payload.id,color:e.color,isVisible:!1};e.id===t.id&&(e.isVisible=!1,I.length=0)}return e}))});case l:var t=[];return Object(S.a)(Object(S.a)({},e),{},{cardsArray:e.cardsArray.filter((function(r){return!1===r.isVisible&&t.push(r),e.cardsArray=t,N}))});default:return e}},V={score:0};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case p:return Object(S.a)(Object(S.a)({},e),{},{score:e.score+10});case b:return Object(S.a)(Object(S.a)({},e),{},{score:e.score-5});default:return e}},P={time:0,timerOn:!1};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case O:return Object(S.a)(Object(S.a)({},e),{},{timerOn:!0});case f:return Object(S.a)(Object(S.a)({},e),{},{time:e.time+1});case j:return Object(S.a)(Object(S.a)({},e),{},{timerOn:!1});default:return e}},w={isOpened:!1};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case h:return Object(S.a)(Object(S.a)({},e),{},{isOpened:!0});case m:return Object(S.a)(Object(S.a)({},e),{},{isOpened:!1});default:return e}},k={isClosed:!1};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case y:return Object(S.a)(Object(S.a)({},e),{},{isClosed:!1});case v:return Object(S.a)(Object(S.a)({},e),{},{isClosed:!0});default:return e}},Y={name:""};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case _:return Object(S.a)(Object(S.a)({},e),{},{name:r.payload.name});default:return e}},X={number:1};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case A:return Object(S.a)(Object(S.a)({},e),{},{number:r.payload.number+1});default:return e}},J=Object(E.b)({cardsArrayReducer:x,flipReducer:D,changeScoreReducer:L,standingsReducer:F,startScreenReducer:B,setTimerReducer:M,playerReducer:U,positionReducer:G}),W=Object(E.d)(J,Object(E.c)(Object(E.a)(R.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));function q(e,r){return{type:d,payload:{id:r,isVisible:e}}}function z(e,r){return{type:u,payload:{id:r,isVisible:e}}}function H(e,r){W.dispatch(z(e,r))}function K(e){return function(r){return setTimeout((function(){return r({type:l,payload:{card:e}})}),2e3)}}function Q(e){return function(r){return setTimeout((function(){r({type:p,payload:{score:e}})}),1e3)}}function Z(e){return function(r){return setTimeout((function(){r({type:b,payload:{score:e}})}),1e3)}}function $(e){return{type:O,payload:{timerOn:e}}}function ee(e){return{type:j,payload:{timerOn:e}}}function re(e){return{type:f,payload:{time:e}}}function te(e){return{type:h,payload:{isOpened:e}}}function ne(e){return{type:m,payload:{isOpened:e}}}function ce(e){return{type:v,payload:{isClosed:e}}}function ae(e){return{type:_,payload:{name:e}}}function ie(e){return{type:A,payload:{number:e}}}var se=t(2);var oe={closeStartScreen:ce,addPlayerName:ae,startTimer:$},de=Object(o.b)((function(e){return{isClosed:e.startScreenReducer.isClosed,name:e.playerReducer.name,timer:e.setTimerReducer.time}}),oe)((function(e){var r=e.isClosed;return Object(se.jsxs)("section",{className:"startScreen ".concat(r?"startScreen_is-Closed":""),children:[Object(se.jsx)("h1",{className:"startScreen__text",children:"Welcome to the Memory game!"}),Object(se.jsxs)("form",{className:"startScreen__container",onSubmit:function(e){if(e.preventDefault(),0!==e.target.firstChild.value)return W.dispatch(ae(e.target.firstChild.value)),e.target.firstChild.value=""},children:[Object(se.jsx)("input",{type:"text",className:"startScreen__playerName",placeholder:"Enter your name"}),Object(se.jsx)("button",{className:"startScreen__play",type:"submit",onClick:function(){W.dispatch(ce(!0))&&W.dispatch($(!0))},children:"Enter"})]})]})}));var ue={stopTimer:ee,counterTimer:re},le=Object(o.b)((function(e){return{cardsArray:e.cardsArrayReducer.cardsArray,timer:e.setTimerReducer.time,timerOn:e.setTimerReducer.timerOn,isClosed:e.startScreenReducer.isClosed}}),ue)((function(e){var r=e.cardsArray,t=e.timer,c=e.timerOn;return Object(n.useEffect)((function(){var e=null;return c?e=setInterval((function(){W.dispatch(re(t))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[t,c]),Object(n.useEffect)((function(){0===r.length&&W.dispatch(ee(!1))}),[r.length]),Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("h2",{className:"header__text header__text_timer",children:[Object(se.jsxs)("span",{children:["0"+Math.floor(t/60%60),":"]}),Object(se.jsx)("span",{children:("0"+Math.floor(t%60)).slice(-2)})]})})}));var pe=Object(o.b)((function(e){return{score:e.changeScoreReducer.score}}),null)((function(e){var r=e.score;return Object(se.jsxs)("div",{className:"header",children:[Object(se.jsx)("h1",{className:"header__text",children:"Welcome to the Memory game!"}),";",Object(se.jsx)(le,{}),Object(se.jsxs)("h3",{className:"header__text header__text_score",children:["You have scored ",r," points!"]})]})}));var be={flippedToOpened:q,flippedToClosed:z},Oe=Object(o.b)((function(e){return{cardsArrayFromState:e.cardsArrayReducer.cardsArray.map((function(e){return e}))}}),be)((function(e){var r=e.store,t=e.card;return Object(se.jsx)("div",{className:"card ".concat(t.isVisible?"flip":""),onClick:function(){!1===t.isVisible?r.dispatch(q(!0,t.id)):r.dispatch(z(!1,t.id))},children:Object(se.jsxs)("div",{className:"flipper",children:[Object(se.jsx)("div",{className:"frontSide",children:"Flip me!"}),Object(se.jsx)("div",{className:"cover",style:{background:t.color}})]})})}));var je=Object(o.b)((function(e){return{cardsArray:e.cardsArrayReducer.cardsArray}}),null)((function(e){var r=e.store,t=e.cardsArray;return Object(se.jsx)("div",{className:"cardList",children:t.map((function(e){return e.isVisible=!1,Object(se.jsx)(Oe,{card:e,store:r},e.id)}))})}));var fe=function(e){var r=e.store;return Object(se.jsx)("section",{className:"playfield",children:Object(se.jsx)(je,{store:r})})};var he={openTable:te,closeTable:ne,increasePlayerNumberPosition:ie},me=Object(o.b)((function(e){return{cardsArray:e.cardsArrayReducer.cardsArray,isOpened:e.standingsReducer.isOpened,name:e.playerReducer.name,score:e.changeScoreReducer.score,timer:e.setTimerReducer.time,number:e.positionReducer.number}}),he)((function(e){var r=e.cardsArray,t=e.isOpened,c=e.name,a=e.score,i=e.timer,s=e.number;return Object(n.useEffect)((function(){0===r.length&&W.dispatch(te(!0))}),[r]),Object(se.jsx)("section",{className:"popup-standings ".concat(t?"popup-standings_is-opened":""),children:Object(se.jsxs)("div",{className:"popup-standings__table",children:[Object(se.jsx)("button",{className:"popup-standings__close",type:"button",onClick:function(){return W.dispatch(ne(!1))&&W.dispatch(ie(1))}}),Object(se.jsxs)("div",{className:"popup-standings__player",children:[Object(se.jsx)("div",{className:"popup-standings__position",children:s}),Object(se.jsx)("div",{className:"popup-standings__name",children:c}),Object(se.jsx)("div",{className:"popup-standings__time",children:i}),Object(se.jsx)("div",{className:"popup-standings__score",children:a})]})]})})}));var ye=function(e){var r=e.store;return r.subscribe(s.a),r.subscribe((function(){return console.log("State after dispatch: ",r.getState())}))(),Object(se.jsxs)("div",{className:"App",children:[Object(se.jsx)(de,{}),Object(se.jsx)(pe,{}),Object(se.jsx)(fe,{store:r}),Object(se.jsx)(me,{})]})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,432)).then((function(r){var t=r.getCLS,n=r.getFID,c=r.getFCP,a=r.getLCP,i=r.getTTFB;t(e),n(e),c(e),a(e),i(e)}))};i.a.render(Object(se.jsx)(c.a.StrictMode,{children:Object(se.jsx)(o.a,{store:W,children:Object(se.jsx)(ye,{store:W})})}),document.getElementById("root")),ve()}},[[431,1,2]]]);
//# sourceMappingURL=main.08843bf4.chunk.js.map